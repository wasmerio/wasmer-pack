<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait for language implementors to use to generate glue code between native WebAssembly signatures and interface types signatures."><title>Bindgen in wai_parser::abi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="wai_parser" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../wai_parser/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../wai_parser/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Bindgen</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Operand">Operand</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.emit">emit</a></li><li><a href="#tymethod.finish_block">finish_block</a></li><li><a href="#tymethod.is_list_canonical">is_list_canonical</a></li><li><a href="#tymethod.push_block">push_block</a></li><li><a href="#tymethod.return_pointer">return_pointer</a></li><li><a href="#tymethod.sizes">sizes</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In wai_parser::abi</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">wai_parser</a>::<wbr><a href="index.html">abi</a>::<wbr><a class="trait" href="#">Bindgen</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/wai_parser/abi.rs.html#822-882">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Bindgen {
    type <a href="#associatedtype.Operand" class="associatedtype">Operand</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>;

    // Required methods
    fn <a href="#tymethod.emit" class="fn">emit</a>(
        &amp;mut self,
        iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>,
        inst: &amp;<a class="enum" href="enum.Instruction.html" title="enum wai_parser::abi::Instruction">Instruction</a>&lt;'_&gt;,
        operands: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;,
        results: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;
    );
<span class="item-spacer"></span>    fn <a href="#tymethod.return_pointer" class="fn">return_pointer</a>(
        &amp;mut self,
        iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>,
        size: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>,
        align: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>
    ) -&gt; Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.push_block" class="fn">push_block</a>(&amp;mut self);
<span class="item-spacer"></span>    fn <a href="#tymethod.finish_block" class="fn">finish_block</a>(&amp;mut self, operand: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.sizes" class="fn">sizes</a>(&amp;self) -&gt; &amp;<a class="struct" href="../struct.SizeAlign.html" title="struct wai_parser::SizeAlign">SizeAlign</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_list_canonical" class="fn">is_list_canonical</a>(&amp;self, iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>, element: &amp;<a class="enum" href="../enum.Type.html" title="enum wai_parser::Type">Type</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.bool.html">bool</a>;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait for language implementors to use to generate glue code between native
WebAssembly signatures and interface types signatures.</p>
<p>This is used as an implementation detail in interpreting the ABI between
interface types and wasm types. Eventually this will be driven by interface
types adapters themselves, but for now the ABI of a function dictates what
instructions are fed in.</p>
<p>Types implementing <code>Bindgen</code> are incrementally fed <code>Instruction</code> values to
generate code for. Instructions operate like a stack machine where each
instruction has a list of inputs and a list of outputs (provided by the
<code>emit</code> function).</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Operand" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#826">source</a><h4 class="code-header">type <a href="#associatedtype.Operand" class="associatedtype">Operand</a>: <a class="trait" href="https://doc.rust-lang.org/1.70.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a></h4></section></summary><div class="docblock"><p>The intermediate type for fragments of code for this type.</p>
<p>For most languages <code>String</code> is a suitable intermediate type.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.emit" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#836-842">source</a><h4 class="code-header">fn <a href="#tymethod.emit" class="fn">emit</a>(
    &amp;mut self,
    iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>,
    inst: &amp;<a class="enum" href="enum.Instruction.html" title="enum wai_parser::abi::Instruction">Instruction</a>&lt;'_&gt;,
    operands: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;,
    results: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;
)</h4></section></summary><div class="docblock"><p>Emit code to implement the given instruction.</p>
<p>Each operand is given in <code>operands</code> and can be popped off if ownership
is required. It’s guaranteed that <code>operands</code> has the appropriate length
for the <code>inst</code> given, as specified with <a href="enum.Instruction.html" title="enum wai_parser::abi::Instruction"><code>Instruction</code></a>.</p>
<p>Each result variable should be pushed onto <code>results</code>. This function must
push the appropriate number of results or binding generation will panic.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.return_pointer" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#847">source</a><h4 class="code-header">fn <a href="#tymethod.return_pointer" class="fn">return_pointer</a>(
    &amp;mut self,
    iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>,
    align: <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.usize.html">usize</a>
) -&gt; Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a></h4></section></summary><div class="docblock"><p>Gets a operand reference to the return pointer area.</p>
<p>The provided size and alignment is for the function’s return type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.push_block" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#858">source</a><h4 class="code-header">fn <a href="#tymethod.push_block" class="fn">push_block</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Enters a new block of code to generate code for.</p>
<p>This is currently exclusively used for constructing variants. When a
variant is constructed a block here will be pushed for each case of a
variant, generating the code necessary to translate a variant case.</p>
<p>Blocks are completed with <code>finish_block</code> below. It’s expected that <code>emit</code>
will always push code (if necessary) into the “current block”, which is
updated by calling this method and <code>finish_block</code> below.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.finish_block" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#873">source</a><h4 class="code-header">fn <a href="#tymethod.finish_block" class="fn">finish_block</a>(&amp;mut self, operand: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.70.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;Self::<a class="associatedtype" href="trait.Bindgen.html#associatedtype.Operand" title="type wai_parser::abi::Bindgen::Operand">Operand</a>&gt;)</h4></section></summary><div class="docblock"><p>Indicates to the code generator that a block is completed, and the
<code>operand</code> specified was the resulting value of the block.</p>
<p>This method will be used to compute the value of each arm of lifting a
variant. The <code>operand</code> will be <code>None</code> if the variant case didn’t
actually have any type associated with it. Otherwise it will be <code>Some</code>
as the last value remaining on the stack representing the value
associated with a variant’s <code>case</code>.</p>
<p>It’s expected that this will resume code generation in the previous
block before <code>push_block</code> was called. This must also save the results
of the current block internally for instructions like <code>ResultLift</code> to
use later.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.sizes" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#876">source</a><h4 class="code-header">fn <a href="#tymethod.sizes" class="fn">sizes</a>(&amp;self) -&gt; &amp;<a class="struct" href="../struct.SizeAlign.html" title="struct wai_parser::SizeAlign">SizeAlign</a></h4></section></summary><div class="docblock"><p>Returns size information that was previously calculated for all types.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_list_canonical" class="method"><a class="srclink rightside" href="../../src/wai_parser/abi.rs.html#881">source</a><h4 class="code-header">fn <a href="#tymethod.is_list_canonical" class="fn">is_list_canonical</a>(&amp;self, iface: &amp;<a class="struct" href="../struct.Interface.html" title="struct wai_parser::Interface">Interface</a>, element: &amp;<a class="enum" href="../enum.Type.html" title="enum wai_parser::Type">Type</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.70.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns whether or not the specified element type is represented in a
“canonical” form for lists. This dictates whether the <code>ListCanonLower</code>
and <code>ListCanonLift</code> instructions are used or not.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../implementors/wai_parser/abi/trait.Bindgen.js" async></script></section></div></main></body></html>